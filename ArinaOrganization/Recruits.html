<!DOCTYPE html>
<html lang="zh-tw">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-0S3J891FKK"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-0S3J891FKK');
    </script>
    <meta charset="utf-8" />
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta name="viewport" content="width=device-width">
    <title>徵人啟事(Recruits)</title>
    <link rel="stylesheet" href="ArinaPage.css">
</head>
<body>
    <script src="Arina.js"></script>
    <h3 style="text-align:center">徵人啟事(Recruits)</h3>
    <div style="text-align:center; margin:10px">
        <a href="InterviewInstructions.html">面試須知(Interview Instructions)</a>
    </div>
    <div style="margin:auto" id="divMain">
        <div id="main">
        </div>
    </div>
    <br />
    <div style="text-align:center; margin:10px">
        聯絡我們(Contact us): <a href="mailto:KentoHize@gmail.com">KentoHize@gmail.com</a><br />
        Line: <a href="https://lin.ee/RNdAT49">https://lin.ee/RNdAT49</a><br />
        收信地址(Address for Receiving Mail): 臺北市大安區信義路四段210號11樓<br />
        Twitter: <a href="https://twitter.com/KentoHize">https://twitter.com/KentoHize</a>
    </div>
    <script>
        var window_size;

        function createSpecTrTd(isTr) {
            let result;
            if (isTr)
                result = document.createElement("tr");
            else
                result = document.createElement("td");
            result.style = "border:none";
            return result;
        }

        function draw_table() {
            var data;
            var divMain = document.getElementById("main");
            var xhttp = new XMLHttpRequest();
            divMain.innerText = "";
            xhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {

                    data = this.response;
                    var table;
                    var tr, td, text;
                    var lw, lw2;
                    if (window_size == "m" || window_size == "l") {
                        lw = "200px";
                        lw2 = "600px";
                    }
                    else {
                        lw = "130px";
                        lw2 = "230px";
                    }

                    for (var i = 0; i < data.length; i++) {
                        if (!data[i].Publish)
                            continue;
                        table = document.createElement("table");
                        table.border = 1;
                        table.style = `padding:4px; margin-top:10px`;
                        tr = createSpecTrTd(true);
                        td = createSpecTrTd(false);

                        text = document.createTextNode("職務名稱(Title)");
                        td.width = lw;
                        td.appendChild(text);
                        tr.appendChild(td);
                        td = createSpecTrTd(false);
                        td.width = lw2;
                        text = document.createTextNode(`${data[i].Name}`);
                        td.appendChild(text);
                        tr.appendChild(td);
                        table.appendChild(tr);

                        tr = createSpecTrTd(true);
                        td = createSpecTrTd(false);
                        text = document.createTextNode("薪資(Salary)");
                        td.width = lw;
                        td.appendChild(text);
                        tr.appendChild(td);
                        td = createSpecTrTd(false);
                        text = document.createTextNode(`${data[i].Salary}`);
                        td.appendChild(text);
                        tr.appendChild(td);
                        table.appendChild(tr);

                        tr = createSpecTrTd(true);
                        td = createSpecTrTd(false);
                        text = document.createTextNode("類型(Type)");
                        td.width = lw;
                        td.appendChild(text);
                        tr.appendChild(td);
                        td = createSpecTrTd(false);
                        text = document.createTextNode(`${data[i].Type}`);
                        td.appendChild(text);
                        tr.appendChild(td);
                        table.appendChild(tr);

                        tr = createSpecTrTd(true);
                        td = createSpecTrTd(false);
                        text = document.createTextNode("地點(Location)");
                        td.width = lw;
                        td.appendChild(text);
                        tr.appendChild(td);
                        td = createSpecTrTd(false);
                        text = document.createTextNode(`${data[i].Location}`);
                        td.appendChild(text);
                        tr.appendChild(td);
                        table.appendChild(tr);

                        tr = createSpecTrTd(true);
                        td = createSpecTrTd(false);
                        text = document.createTextNode("工作時間(Working Time)");
                        td.width = lw;
                        td.appendChild(text);
                        tr.appendChild(td);
                        td = createSpecTrTd(false);
                        text = document.createTextNode(`${data[i].WorkTime}`);
                        td.appendChild(text);
                        tr.appendChild(td);
                        table.appendChild(tr);

                        tr = createSpecTrTd(true);
                        td = createSpecTrTd(false);
                        text = document.createTextNode("工作可開始(Start At)");
                        td.width = lw;
                        td.appendChild(text);
                        tr.appendChild(td);
                        td = createSpecTrTd(false);
                        text = document.createTextNode(`${data[i].StartAt}`);
                        td.appendChild(text);
                        tr.appendChild(td);
                        table.appendChild(tr);

                        tr = createSpecTrTd(true);
                        td = createSpecTrTd(false);
                        text = document.createTextNode("工作需求(Requirement)");
                        td.width = lw;
                        td.appendChild(text);
                        tr.appendChild(td);
                        td = createSpecTrTd(false);
                        td.innerHTML = `${ChangeLFtoBRLabel(data[i].Requirement)}`;
                        tr.appendChild(td);
                        table.appendChild(tr);

                        tr = createSpecTrTd(true);
                        td = createSpecTrTd(false);
                        text = document.createTextNode("詳細說明(Description)");
                        td.width = lw;
                        td.appendChild(text);
                        tr.appendChild(td);
                        td = createSpecTrTd(false);
                        td.innerHTML = `${ChangeLFtoBRLabel(data[i].Description)}`;
                        tr.appendChild(td);
                        table.appendChild(tr);
                        divMain.appendChild(table);
                    }
                }
            };
            xhttp.responseType = 'json';
            xhttp.open("GET", "Jobs.json?v=" + Math.random(), true);
            xhttp.send();
        }

        function redraw(display_all = false) {

            if (window.innerWidth < 800)
                window_size = "s";
            else if (window.innerWidth < 1300)
                window_size = "m";
            else
                window_size = "l";

            if (display_all) {
                window_size = "l";
                document.getElementById("main").style = `margin:auto; width:${window.innerWidth > 1100 ? window.innerWidth : 1100}px`;
                document.getElementsByTagName('meta')['viewport'].content = "";
            }

            if (window_size == "s")
                document.getElementById("main").style = `margin:auto; width:360px;`;
            else if (window_size == "m" || window_size == "l")
                document.getElementById("main").style = `margin:auto; width:800px;`;

            draw_table();
        }

        redraw();
    </script>
</body>
</html>